<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8" />
  <title>Firebase Facebook Login</title>
</head>
<body>
  <h2>Facebook-р Firebase ашиглан нэвтрэх</h2>
  <button id="loginBtn">Facebook-р нэвтрэх</button>
  <div id="userInfo" style="margin-top: 20px;"></div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
    import { getAuth, FacebookAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-auth.js";

    // Таны Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyBV4u-BnfWUzjMGTY9X7F_7JLDQJb-9-E",
      authDomain: "jklh-a3950.firebaseapp.com",
      projectId: "jklh-a3950",
      storageBucket: "jklh-a3950.firebasestorage.app",
      messagingSenderId: "430561138430",
      appId: "1:430561138430:web:97ed4a485fc200bf65f7af",
      measurementId: "G-KM93VP4WK3"
    };

    // Firebase-г эхлүүлэх
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new FacebookAuthProvider();

    // Товчлуур дээр дарахад Facebook-р нэвтрэх
    document.getElementById('loginBtn').addEventListener('click', () => {
      signInWithPopup(auth, provider)
        .then((result) => {
          const user = result.user;
          document.getElementById('userInfo').innerHTML = `Сайн байна уу, ${user.displayName} (${user.email})`;
        })
        .catch((error) => {
          console.error("Алдаа:", error);
          alert("Алдаа: " + error.message);
        });
    });
  </script>
</body>
</html>
